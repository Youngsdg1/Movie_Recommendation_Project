{% extends 'movies/base.html' %}
{% load bootstrap4 %}

{% block title %}
    Movie List
{% endblock title %}

{% block body %}
<h1>영화 목록</h1>
    <a href="{% url 'accounts:user_list' %}">
        <button>유저 목록으로
        </button>
    </a>
    <br>
<br>

<!-- <div v-bind:movies>
    <div v-if="flag === true">
        <button @click="getYearsMovies" id="js-years-button">2018</button>
            <li v-for="movie in years_of_movies">
                [[ movie ]]
            </li>
    </div>

    <div v-else>
        <button id="js-years-button">2018</button>

    </div>
</div> -->
    {% if movies %}
        {% for movie in movies %}
            <div style="display:inline-block">
                <a href="{% url 'movies:movie_detail' movie.id %}">
                    <img src="{{ movie.poster_url }}" alt="movie_poster" style='width: 300px'>
                    <button @click="getYearsMovies">Click</button>
                </a>
            </div>
        {% endfor %}
    {% endif %}
{% endblock body %}

<!-- <script>
    const app = new Vue(
        {
            el: '#app',
            delimiters: ['[[', ']]'],
            data () {
                return {
                    flag = true
                }
            },
            computed: {

                getYearsMovies(movie_of_years) {
                    this.movies = movie_of_years
                },
            }
        }
    )
</script> -->
